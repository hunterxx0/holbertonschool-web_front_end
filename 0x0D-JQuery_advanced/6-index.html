<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous">
        </script>
    </head>

    <body>
        <script type="application/javascript">
            function createFamilyTree() {
                $( "body" ).append( 
                    "<table>",
                    "<thead>",
                    "<tr><th>Firstname</th><th>Lastname</th></tr>",
                    "</thead>",
                    "<tbody>",
                    "</tbody>",
                    "</table>" );
            }
            row = 0;
            function addNewMember(firstName, lastName, position) {
                if (position == "before") {
                    $( "tbody" ).prepend(
                    "<tr><td>" + firstName + "</td><td>" + lastName + 
                    "</td><td id=\"click" + row + "\">(x)</td></tr>"
                    );
                } else {
                    $( "tbody" ).append(
                        "<tr><td>" + firstName + "</td><td>" + lastName + 
                        "</td><td id=\"click" + row + "\">(x)</td></tr>"
                    );
                }
                 row++;
                 $( '[id^=click]' ).css("background-color", "orange");
                 $( '[id^=click]' ).on('click', function () {
                    $(this).closest('tr').remove();
                });
            }
            function createForm() {
                $('body').append(
                    "<form id=\"names\">",
                    "<input type=\"text\" id=\"fname\">",
                    "<input type=\"text\" id=\"lname\">",
                    "<select id=\"pos\"><option value=\"before\">Before</option><option value=\"after\">After</option>",
                    "</select>",
                    "<input id=\"sub\" type=\"submit\" value=\"Submit\">",
                    "</form>"
                    );
                $( "#sub" ).click(function() {
                    addNewMember(
                        $( "#fname" ).val(),
                        $( "#lname" ).val(),
                        $( "#pos" ).val()
                        );
                });
            }
            createForm()
            createFamilyTree();
        </script>
    </body>

</html>